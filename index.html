<!DOCTYPE html>
<html>
<head>
	<title>
		Générateur de blagues · JS
	</title>

  <link rel="stylesheet" href="style.css">
</head>

<body>
  <div id="app" onclick="f()">
    <div class="joke">

    </div>
  </div>
  <script type="text/javascript">
    const f = () => {
      fetch('https://v2.jokeapi.dev/joke/Any?lang=fr&blacklistFlags=political', {
        method: "GET",
        headers: {
          //"Content-Type": "text/plain;charset=UTF-8"
        },
        mode: "cors",
        cache: "default",
        keepalive: false,
      }).then(async (res) => {
        if(res.ok) {
          console.log("== Ok");
          var jokeObject = await res.json({})
          console.log(jokeObject);
        } else {
          console.log('== Mauvaise réponse du réseau');
        }
      })
      .catch((err) => {
        console.log('Il y a eu un problème avec l\'opération fetch: ' + err.message);
      });
    }
  </script>
</body>
</html>
